<h1>Introduction</h1>
<h2>What is FOF?</h2>
<p>FOF (Framework on Framework) is a rapid application development framework for Joomla!. Unlike other frameworks it is not standalone. It extends the Joomla! Platform instead of replacing it, featuring its own forked and extended version of the MVC classes, keeping a strong semblance to the existing Joomla! MVC API. This means that you don't have to relearn writing Joomla! extensions. Instead, you can start being productive from the first day you're using it. Our goal is to always support the officially supported LTS versions of Joomla! and not break backwards compatibility without a clear deprecation and migration path.</p>
<p>FOF is currently used by Akeeba products such as Akeeba Backup, Admin Tools, Akeeba Subscriptions, Akeeba Ticket System and Akeeba DocImport components.</p>
<h2>Free Software means collaboration</h2>
<p>The reason of existence of FOSS (Free and Open Source Software) is collaboration between developers. FOF is no exception; it exists because and for the community of Joomla! developers. It is provided free of charge and with all of the freedoms of the GPL for you to benefit. And in true Free Software spirit, the community aspect is very strong. Participating is easy and fun.</p>
<p>If you want to discuss FOF there is <a href="https://groups.google.com/forum/?hl=en&amp;fromgroups#!forum/frameworkonframework">a Google Groups mailing list</a>. This is a peer discussion group where developers working with FOF can freely discuss.</p>
<p>If you have a feature proposal or have found a bug, but you're not sure how to code it yourself, please report it on the list.</p>
<p>If you have a patch feel free to fork <a href="https://github.com/akeeba/fof">this project on GitHub</a> (you only need a free account to do that) and send a pull request. Please remember to describe what you intended to achieve to help me review your code faster.</p>
<p>If you've found a cool hack (in the benign sense of the word, not the malicious one...), something missing from the documentation or have a tip which can help other developers feel free to edit the Wiki. We're all grown-ups and professionals, I believe there is no need of policing the wiki edits. If you're unsure about whether a wiki edit is appropriate, please ask on the list.</p>
<h2>Preface to this documentation</h2>
<p>FOF is a rapid application development framework for the Joomla! CMS. Instead of trying to completely replace Joomla!’s own API (formerly known as the Joomla! Platform) it builds upon it and extends it both in scope and features. In the end of the day it enables agony-free extension development for the Joomla! CMS.</p>
<p>In order to exploit the time-saving capabilities of the FOF framework to the maximum you need to understand how it's organized, the conventions used and how its different pieces work together. This documentation attempts to provide you with this knowledge.</p>
<p>As with every piece of documentation we had to answer two big questions: where do we start and how do we structure the content. The first question was easy to answer. Having given the presentation of the FOF framework countless times we have developed an intuitive grasp of how to start presenting it: from the abstract to the concrete.</p>
<p>The second question was harder to answer. Do we write a dry reference to the framework or more of a story-telling documentation which builds up its reader’s knowledge? Since we are all developers we can read the code (and DocBlocks), meaning that the first option is redundant. Therefore we decided to go for the second option.</p>
<p>As a result this documentation does not attempt to be a complete reference, a development gospel, the one and only source of information on FOF. On the contrary, this documentation aims to be the beginning of your journey, much like a travel guide. What matters the most is the journey itself, writing your own extensions based on FOF. As you go on writing software you will be full of questions. Most of them you’ll answer yourself. Some of them will be already answered in the wiki. A few of them you’ll have to ask on the mailing list. In the end of the day you will be richer in knowledge. If you do dig up a golden nugget of knowledge, please do consider writing a wiki page. This way we’ll all be richer and enjoy our coding trip even more.</p>
<p>Have fun and code on!</p>
<h2>Key features</h2>
<p>Some of the key features / highlights of FOF:</p>
<p><strong>Convention over configuration, Rails style</strong>. Instead of having to painstakingly code every single bit of your component, it's sufficient to use our naming conventions, inspired by Ruby on Rails conventions. For example, if you have com_example, the foobar view will read from the #__example_foobars table which has a unique key named example_foobar_id. The default implementation of controllers, models, tables and views will also cater for the majority of use cases, minimising the code you'll need to write.</p>
<p><strong>HMVC today, without relearning component development</strong>. There's a lot of talk about the need to re-engineer the MVC classes in Joomla! to support HMVC. What if we could give you HMVC support using the existing MVC classes, today, without having to relearn how to write components? Yes, it's possible with FOF. It has been possible since September 2011, actually. And for those who mumble their words and spread FUD, yes, it IS HMVC by any definition. The very existence of the FOFDispatcher class proves the point.</p>
<p><strong>Easy reuse of view template files without ugly include()</strong>. More often than not you want to reuse view template files across views. The &quot;traditional&quot; way was by using include() or require() statements. This meant, however, that template overrides ceased working. Not any more! Using FOFView's loadAnyTemplate() you can load any view template file from the front- or back-end of your component or any other component, automatically respecting template overrides.</p>
<p><strong>Automatic language loading and easy overrides</strong>. Are you sick and tired of having to load your component's language files manually? Do you end up with a lot of untranslated strings when your translators don't catch up with your new features? Yes, that sucks. It's easy to overcome. FOF will automatically handle language loading for you.</p>
<p><strong>Media files override (works like template overrides)</strong>. So far you knew that you can override Joomla!'s view template files using template overrides. But what about CSS or Javascript files? This usually required the users to &quot;hack core&quot;, i.e. modify your views' PHP files, ending up in an unmaintainable, non-upgradeable and potentially insecure solution. Not any more! Using FOF's FOFTemplateUtils::addCSS and FOFTemplateUtils::addJS you can load your CSS and JS files directly from the view template file. Even better? You can use the equivalent of template overrides to let your users and template designers override them with their own implementations. They just have to create the directory templates/your_template/media/com_example to override the files normally found in media/com_example. So easy!</p>
<p><strong>Automatic JSON and CSV views with no extra code (also useful for web services)</strong>. Why struggle to provide a remote API for your component? FOF makes the data of each view accessible as JSON feeds opening a new world of possibilities for Joomla! components (reuse data in mobile apps, Metro-style Windows 8 tiles, browser extensions, mash-up web applications, ...). The automatic CSV views work on the same principle but output data in CSV format, suitable for painlessly data importing to spreadsheets for further processing. Oh, did we mention that we already have an almost RESTful web services implementation?</p>
<p><strong>No code view templates</strong>. Don't you hate it that you have to write a different view template (in PHP and HTML) for each Joomla! version and, worse, each template out there? Don't you hate it having to teach non-developers how to not screw up your component with every update you publish? We feel your pain. That's why FOF supports the use of XML files as view templates, rendering them automatically to HTML. Not just forms; everything, including browse (multiple items) and single item views. Even better, you get to choose if you want to use traditional PHP/HTML view templates, XML view templates or a combination of both, even in the same view!</p>
<p><strong>No code routing, ACL and overall application configuration</strong>. Since FOF 2.1 you can define your application's routing, access control integration and overall configuration without routing any code, just by using a simple to understand XML file. It's now easier than ever to have Joomla! extensions with truly minimal (or no) PHP code.</p>
<h2>Getting started with FOF</h2>
<h3>Download and install FOF</h3>
<p>You can download FOF as an installable Joomla! library package from <a href="https://www.akeebabackup.com/download/fof.html">our repository</a>. You can install it like any other extension under Joomla! 2.x and later.</p>
<p><strong>Using the latest development version</strong></p>
<p>You can clone a read-only copy of the Git repository of FOF in your local machine. Make sure you symlink or copy the fof directory to your dev site's libraries/fof directory. Alternatively, we publish dev releases in the <a href="https://www.akeebabackup.com/download/fof-dev.html">dev release repository</a>. These are installable packages but please note that they may be out of date compared to the Git HEAD. Dev releases are not published automatically and may be several revisions behind the current Git master branch.</p>
<h3>Using it in your extension</h3>
<p>The recommended method for including FOF in your component, module or plugin is using this short code snippet right after your defined('_JEXEC') or die() statement (Joomla! 2.x and later):</p>
<pre><code>if (!defined(&#39;FOF_INCLUDED&#39;)) {
    include_once JPATH_LIBRARIES . &#39;/fof/include.php&#39;;
}</code></pre>
<p>Alternatively, you can use the one-liner:</p>
<pre><code>require_once JPATH_LIBRARIES . &#39;/fof/include.php&#39;;</code></pre>
<p>From that point onwards you can use FOF in your extension.</p>
<h3>Installing FOF with your component</h3>
<p>Unfortunately, Joomla! doesn't allow us to version checking before installing a library package. This means that it's your responsibility to check that there is no newer version of FOF installed in the user's site before attempting to install FOF with your extension. In the following paragraphs we are going to demonstrate one way to do that for Joomla! 2.x / 3.x component packages.</p>
<p>Include a directory called fof in your installation package. The directory should contain the files of the installation package's fof directory. Then, in your script.mycomponent.php file add the following method:</p>
<pre><code>/**
 * Check if FoF is already installed and install if not
 *
 * @param   object  $parent  class calling this method
 *
 * @return  array            Array with performed actions summary
 */
private function _installFOF($parent)
{
    $src = $parent-&gt;getParent()-&gt;getPath(&#39;source&#39;);

    // Load dependencies
    JLoader::import(&#39;joomla.filesystem.file&#39;);
    JLoader::import(&#39;joomla.utilities.date&#39;);
    $source = $src . &#39;/fof&#39;;

    if (!defined(&#39;JPATH_LIBRARIES&#39;))
    {
        $target = JPATH_ROOT . &#39;/libraries/fof&#39;;
    }
    else
    {
        $target = JPATH_LIBRARIES . &#39;/fof&#39;;
    }
    $haveToInstallFOF = false;

    if (!is_dir($target))
    {
        $haveToInstallFOF = true;
    }
    else
    {
        $fofVersion = array();

        if (file_exists($target . &#39;/version.txt&#39;))
        {
            $rawData = JFile::read($target . &#39;/version.txt&#39;);
            $info    = explode(&quot;\n&quot;, $rawData);
            $fofVersion[&#39;installed&#39;] = array(
                &#39;version&#39;   =&gt; trim($info[0]),
                &#39;date&#39;      =&gt; new JDate(trim($info[1]))
            );
        }
        else
        {
            $fofVersion[&#39;installed&#39;] = array(
                &#39;version&#39;   =&gt; &#39;0.0&#39;,
                &#39;date&#39;      =&gt; new JDate(&#39;2011-01-01&#39;)
            );
        }

        $rawData = JFile::read($source . &#39;/version.txt&#39;);
        $info    = explode(&quot;\n&quot;, $rawData);
        $fofVersion[&#39;package&#39;] = array(
            &#39;version&#39;   =&gt; trim($info[0]),
            &#39;date&#39;      =&gt; new JDate(trim($info[1]))
        );

        $haveToInstallFOF = $fofVersion[&#39;package&#39;][&#39;date&#39;]-&gt;toUNIX() &gt; $fofVersion[&#39;installed&#39;][&#39;date&#39;]-&gt;toUNIX();
    }

    $installedFOF = false;

    if ($haveToInstallFOF)
    {
        $versionSource = &#39;package&#39;;
        $installer = new JInstaller;
        $installedFOF = $installer-&gt;install($source);
    }
    else
    {
        $versionSource = &#39;installed&#39;;
    }

    if (!isset($fofVersion))
    {
        $fofVersion = array();

        if (file_exists($target . &#39;/version.txt&#39;))
        {
            $rawData = JFile::read($target . &#39;/version.txt&#39;);
            $info    = explode(&quot;\n&quot;, $rawData);
            $fofVersion[&#39;installed&#39;] = array(
                &#39;version&#39;   =&gt; trim($info[0]),
                &#39;date&#39;      =&gt; new JDate(trim($info[1]))
            );
        }
        else
        {
            $fofVersion[&#39;installed&#39;] = array(
                &#39;version&#39;   =&gt; &#39;0.0&#39;,
                &#39;date&#39;      =&gt; new JDate(&#39;2011-01-01&#39;)
            );
        }

        $rawData = JFile::read($source . &#39;/version.txt&#39;);
        $info    = explode(&quot;\n&quot;, $rawData);
        $fofVersion[&#39;package&#39;] = array(
            &#39;version&#39;   =&gt; trim($info[0]),
            &#39;date&#39;      =&gt; new JDate(trim($info[1]))
        );
        $versionSource = &#39;installed&#39;;
    }

    if (!($fofVersion[$versionSource][&#39;date&#39;] instanceof JDate))
    {
        $fofVersion[$versionSource][&#39;date&#39;] = new JDate;
    }

    return array(
        &#39;required&#39;  =&gt; $haveToInstallFOF,
        &#39;installed&#39; =&gt; $installedFOF,
        &#39;version&#39;   =&gt; $fofVersion[$versionSource][&#39;version&#39;],
        &#39;date&#39;      =&gt; $fofVersion[$versionSource][&#39;date&#39;]-&gt;format(&#39;Y-m-d&#39;),
    );
}</code></pre>
<p>You need to call it from inside your postflight() method. For example:</p>
<pre><code>/**
 * Method to run after an install/update/uninstall method
 *
 * @param   object  $type    type of change (install, update or discover_install)
 * @param   object  $parent  class calling this method
 *
 * @return void
 */
function postflight($type, $parent)
{
        $fofInstallationStatus = $this-&gt;_installFOF($parent);
}</code></pre>
<blockquote>
<p><strong>Important</strong></p>
<p>Due to a bug/feature in Joomla! 1.6 and later, your component's manifest file must start with a letter before L, otherwise Joomla! will assume that lib_fof.xml is your extension's XML manifest and install FOF instead of your extension. We suggest using the com_yourComponentName.xml convention, e.g. com_todo.xml. There is a patch pending in Joomla!'s tracker for this issue, hopefully it will be accepted sometime soon.</p>
</blockquote>
<h3>Sample applications</h3>
<p>FOF comes with two sample applications which are used to demonstrate its features, <a href="https://github.com/akeeba/todo-fof-example">To-Do</a> and <a href="https://github.com/akeeba/contactus">Contact Us</a>. These were conceived and developed in different points of FOF's development. As a result they are always in a state of flux and will definitely not expose all of FOF's features.</p>
<p>Another good way to learn some FOF tricks is by reading the source code of existing FOF-based components. Just remember that we are all real world developers and sometimes our code is anything but kosher ;)</p>
<h1>The big picture</h1>
<h2>Overview of a component</h2>
<p>FOF is an MVC framework in heart and soul. It tries to stick as close as possible to the MVC conventions put forward by the Joomla! CMS since Joomla! 1.5, cutting down on unnecessary code duplication. The main premise is that your code will be DRY – not as the opposite of “wet”, but as in Don’t Repeat Yourself. Simply put: if you ever find yourself trying to copy code from a base class and paste it into a specialized class, you are doing it wrong.</p>
<p>In order to achieve this code isolation, FOF uses a very flexible structure for your components. A component's structure looks like this:</p>
<p><img src="images/component-structure.png" /></p>
<p>The Dispatcher is the entry point of your component. Some people would call this a &quot;front Controller&quot; and this is actually what it is. It's different than what we typically call a Controller in the sense that the Dispatcher is the only part of your component which is supposed to interface the underlying application (e.g. the Joomla! CMS) and gets to decide which Controller and task to execute based on the input data (usually this is the request data). No matter if you call it an entry point, front controller, dispatcher or Clint Eastwood its job is to figure out what needs to run and run it. We simply chose the name &quot;Dispatcher&quot; because, like all conventions, we had to call it something. So, basically, the Dispatcher will take a look at the input data, figure out which Controller and task to run, create an instance of it, push it the data and tell it to run the task. The Controller is expected to return the rendered data or a redirection which the Dispatcher will dully pass back to its caller.</p>
<p>Oh, wait, what is a Controller anyway?! Right below the Dispatcher you will see a bunch of stuff grouped as a &quot;triad&quot;. The &quot;triad&quot; is commonly called &quot;view&quot; (with a lowercase v). Each triad does something different in your component. For example, one triad may allow you to handle clients, another triad allow you to handle orders and so on. Your component can have one or more triads. A triad usually contains a Controller, a Model and a View, hence the name (&quot;triad&quot; literally means &quot;a bunch of three things&quot;). The only mandatory member is the Controller. A triad may be reusing the Model and View from another triad – which is another reason why DRY code rocks– or it may even be view-less. So, a triad may actually be a bunch of one, two or three things, as long as it includes a Controller. Just to stop you from being confused or thinking about oriental organised crime and generally make your life easier we decided to call these &quot;views&quot; (with a lowercase v) instead of &quot;triads&quot;. See? Now it is so much better.</p>
<p>FOF views follow the &quot;fat Model - thin Controller&quot; paradigm. This means that the Controller is a generally minimalist piece of code and the Model is what gets to do all the work. Knowing this very important bit of information, let's take a look at the innards of a view.</p>
<p>In the very beginning we have the Controller. The Controller has one or more tasks. Each task is an action of your component, like showing a list of records, showing a single record, publish a record, delete a record and so on. With a small difference. The Controller's tasks do not perform the actual work. They simply spawn an instance of the Model and push it the necessary data it needs. This is called &quot;setting the state&quot; of the Model. In most cases the Controller will also call a Model's method which does something. It's extremely important to note that the Controller will work with <em>any</em> Model that implements that method and that the Model is oblivious to the Controller. Then the Controller will create an instance of the View class, pass it the instance of the Model and tell it to go render itself. It will take the output of the View and pass it back to the Dispatcher.</p>
<p>Which brings us to the Model. The Model is the workhorse of the view. It implements the business logic. All FOF Models are passive Models which means that they are oblivious to the presence of the Controller and View. Actually, they are completely oblivious to the fact that they are part of a triad. That's right, Models can be used standalone, outside the context of the view or component they are designed to live in. The Model's methods will act upon the state variables which have already been set (typically, by the Controller) and will only modify the state variables or return the output directly. Models must never have to deal with input data directly or talk to specific Controllers and/or Views. Models are decoupled from everything, that's where their power lies.</p>
<p>Just a small interlude here. Right below the Model we see a small thing called a &quot;Table&quot;. This is a strange beast. It's one part data adapter, one part model and one part controller, but nothing quite like any of this. The Table is used to create an object representing a single record. It is typically used to check the validity of a record before saving it to the database and post-process a record when reading it from the database (e.g. unserialise a field which contains serialised or JSON data).</p>
<p>The final piece of our view is the View class itself. It will ask the Model for the raw data and transform it into a suitable representation. Typically this means getting the raw records from the Model and create the HTML output, but that's not the only use for a View. A View could just as well render the data as a JSON stream, a CSV file, or even produce a graphic, audio or video file. It's what transforms the raw data into something useful, i.e. it's your presentation layer. Most often it will do so by loading view templates which are .php files which transform raw data to a suitable representation. If you are using the XML forms feature of FOF, the View will ask the Model to return the form definition and ask FOF's renderer to render this to HTML instead. Even though the actual rendering is delegated to the Renderer (not depicted above), it's still the View that's responsible for the final leg of the rendered data: passing it back to its caller. Yes, the View will actually neither output its data directly to the browser, nor talk to the underlying application. It returns the raw data back to its caller, which is almost always the Controller. Again, we have to stress that the View is oblivious to both the Controller and the Model being used. A properly written View is fully decoupled from everything else and will work with any data provider object implementing the same interface as a Model object and a caller which is supposed to capture its output for further consumption.</p>
<blockquote>
<p><strong>Important</strong></p>
<p>All classes comprising a view are fully decoupled. None is aware of the internal workings of another object in the same or a different view. This allows you to exchange objects at will, promoting code reuse. Even though it sounds like a lot of work it's actually less work and pays dividends the more features you get to add to your components.</p>
</blockquote>
<p>There's another bit mentioned below the triad, the Toolbar. The Toolbar is something which conceptually belongs to the component and only has to do with views being rendered as HTML. It's what renders the title in the back-end, the actions toolbar in the front- or back-end and the navigation links / menu in the back-end. In case you missed the subtle reference: FOFToolbar allows you to render an actions toolbar even in the front-end of your component, something that's not possible with plain old Joomla!. You will simply need to add some CSS to do it.</p>
<p>Finally we mention the Helpers. The Helpers are pure static classes implementing every bit of functionality that's neither OOP, nor can it be categorised in any other object already mentioned. For example, methods to render drop-down selection lists. In so many words, &quot;Helper&quot; is a polite way of saying &quot;non-OOP cruft we'd rather not talk about&quot;. Keep your Helpers to a minimum as they're a royal pain in the rear to test.</p>
<p>Please do keep in mind that this is just a generic overview of how an FOF-based component works. The real power comes from the fact that you don't need to know the internal workings of FOF to use it, you don't need to copy and paste code from it (woe is the developer who does that) and quite possibly you don't even need to write any code. At all. It's all discussed later on.</p>
<h2>Diving into the FOF classes</h2>
<p>As it was casually mentioned in the previous section, the real power of FOF comes from the fact that it doesn't require you to write much or any code. All you have to do is to follow some conventions and understand what are the default actions carried out by FOF. This sections attempts to explain it all, one class at a time.</p>
<h3>FOFDispatcher</h3>
<p><strong>Instantiating and using the Dispatcher</strong></p>
<p>Following Joomla conventions, at the root of both the front- and back-end of an extension is the entry point for that end of the extension, named following the extension’s name.</p>
<p>For example, for com_foobar, we would create foobar.php in the root of each end. These files are not dispatchers, but they are the points in the extension that include the FOF library, and create an instance of FOF's dispatcher.</p>
<p>FOF is included with:</p>
<pre><code>// Load FOF
include_once JPATH_LIBRARIES . &#39;/fof/include.php&#39;;
if (!defined(&#39;FOF_INCLUDED&#39;)) {
    JError::raiseError(&#39;500&#39;, &#39;FOF is not installed&#39;);
}</code></pre>
<p>Creating an instance of FOF's dispatcher for com_foobar would be done with:</p>
<pre><code>FOFDispatcher::getTmpInstance(&#39;com_foobar&#39;)-&gt;dispatch();</code></pre>
<p><strong>What FOFDispatcher does</strong></p>
<p><strong>Convention over Configuration</strong></p>
<p><strong>Specialising FOFDispatcher</strong></p>
<p><strong>FOFDispatcher methods you should know about</strong></p>
<h4>Calling a Dispatcher from anywhere (a.k.a. HMVC)</h4>
<h4>Web services</h4>
<h3>FOFController</h3>
<p><strong>What FOFController does</strong></p>
<p><strong>Convention over Configuration</strong></p>
<p><strong>Specialising FOFController</strong></p>
<p><strong>FOFController methods you should know about</strong></p>
<h3>FOFModel</h3>
<p><strong>What FOFModel does</strong></p>
<p><strong>Convention over Configuration</strong></p>
<p><strong>Specialising FOFModel</strong></p>
<p><strong>FOFModel methods you should know about</strong></p>
<h3>FOFTable</h3>
<p><strong>What FOFTable does</strong></p>
<p><strong>Convention over Configuration</strong></p>
<p><strong>Specialising FOFTable</strong></p>
<p><strong>FOFTable methods you should know about</strong></p>
<h3>FOFView</h3>
<p><strong>What FOFView does</strong></p>
<p><strong>Convention over Configuration</strong></p>
<p><strong>Specialising FOFView</strong></p>
<p><strong>FOFView methods you should know about</strong></p>
<h4>FOFView subclasses</h4>
<h4>View templates</h4>
<p><strong>Naming of view template files</strong></p>
<p><strong>Including media files</strong></p>
<p><strong>Reusing view templates</strong></p>
<h4>Template overrides</h4>
<p><strong>Overriding view templates</strong></p>
<p><strong>Overriding media files</strong></p>
<h3>FOFToolbar</h3>
<p><strong>What FOFToolbar does</strong></p>
<p><strong>Convention over Configuration</strong></p>
<p><strong>Specialising FOFToolbar</strong></p>
<p><strong>FOFToolbar methods you should know about</strong></p>
<h1>XML Forms</h1>
<h2>The different form types</h2>
<h3>Browse forms</h3>
<h3>Read forms</h3>
<h3>Edit forms</h3>
<h2>Header field types reference</h2>
<h3>accesslevel</h3>
<h3>field</h3>
<h3>fieldsearchable</h3>
<h3>fieldselectable</h3>
<h3>fieldsql</h3>
<h3>filtersearchable</h3>
<h3>filterselectable</h3>
<h3>filtersql</h3>
<h3>language</h3>
<h3>ordering</h3>
<h3>published</h3>
<h3>rowselect</h3>
<h2>Form field types reference</h2>
<h3>accesslevel</h3>
<h3>button</h3>
<h3>cachehandler</h3>
<h3>calendar</h3>
<h3>captcha</h3>
<h3>checkbox</h3>
<h3>editor</h3>
<h3>email</h3>
<h3>groupedlist</h3>
<h3>hidden</h3>
<h3>image</h3>
<h3>imagelist</h3>
<h3>integer</h3>
<h3>language</h3>
<h3>list</h3>
<h3>media</h3>
<h3>model</h3>
<h3>ordering</h3>
<h3>password</h3>
<h3>plugins</h3>
<h3>published</h3>
<h3>radio</h3>
<h3>selectrow</h3>
<h3>sessionhandler</h3>
<h3>spacer</h3>
<h3>sql</h3>
<h3>tel</h3>
<h3>text</h3>
<h3>textarea</h3>
<h3>timezone</h3>
<h3>url</h3>
<h3>user</h3>
<h1>Configuring the MVC and associated classes</h1>
<p>All MVC and associated classes in FOF (Dispatcher, Controller, Model, View, Table, Toolbar) come with a default behavior, for example where to look for model files, how to handle request data and so on. While this is fine most of the times –as long as you follow FOF’s conventions– this is not always desirable.</p>
<p>For example, if you are building a CCK (something like K2) you may want to look for view templates in a non-standard directory in order to support alternative “themes”. Or, maybe, if you're building a contact component you only want to expose the add view to your front-end users so that they can file a contact request but not view other people's contact requests. You get the idea.</p>
<p>The traditional approach to development prescribes overriding classes, even to the extent of copying and pasting code. If you've ever attended one of my presentations you've probably figured that I consider copying and pasting code a mortal sin. You may have also figured that, like all developers, I am lazy and dislike writing lots of code. Naturally, FOF being a RAD tool it provides an elegant solution to this problem. The <code>$config</code> array and its sibling, the <code>fof.xml</code> file.</p>
<h2>What is the <code>$config</code> array?</h2>
<p>You may have observed that FOF’s MVC classes can be passed an optional array parameter <code>$config</code>. This is a hash array with configuration options. It is being passed from the Dispatcher to the Controller and from there to the Model, View and Table classes. Essentially, this is your view (MVC triad) configuration. Setting its options allows you to modify FOF’s internal workings without writing code.</p>
<p>The various possible settings are explained in “The configuration settings” section below.</p>
<h2>What’s the deal with the <code>fof.xml</code> file?</h2>
<p>The <code>$config</code> array is a great idea but has a major drawback: you have to create one or several <code>.php</code> files with specialized classes to use it. Remember the FOF promise about not having to write code unless absolutely necessary? Yep, this doesn’t stick very well with that promise. So the <code>fof.xml</code> file was born in FOF 2.1.</p>
<p>The <code>fof.xml</code> file is a simple XML file placed inside your component's <strong>back-end</strong> directory, e.g. <code>administrator/com_example/fof.xml</code>. It contains configuration overrides for the front-end, back-end and CLI parts of your FOF component.</p>
<h3>A sample <code>fof.xml</code> file</h3>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;fof&gt;
    &lt;!-- Component back-end options --&gt;
    &lt;backend&gt;
        &lt;!-- Dispatcher options --&gt;
        &lt;dispatcher&gt;
            &lt;option name=&quot;default_view&quot;&gt;items&lt;/option&gt;
        &lt;/dispatcher&gt;
    &lt;/backend&gt;
    
    &lt;!-- Component front-end options --&gt;
    &lt;frontend&gt;
        &lt;!-- Dispatcher options --&gt;
        &lt;dispatcher&gt;
            &lt;option name=&quot;default_view&quot;&gt;item&lt;/option&gt;
        &lt;/dispatcher&gt;
        &lt;!-- Options common for all views --&gt;
        &lt;view name=&quot;*&quot;&gt;
            &lt;!-- Per-task ACL settings. The star task sets the default ACL privileges for all tasks. --&gt;
            &lt;acl&gt;
                &lt;task name=&quot;*&quot;&gt;false&lt;/task&gt;
            &lt;/acl&gt;
        &lt;/view&gt;
        &lt;view name=&quot;item&quot;&gt;
            &lt;!-- Task mapping --&gt;
            &lt;taskmap&gt;
                &lt;task name=&quot;list&quot;&gt;browse&lt;/task&gt;
            &lt;/taskmap&gt;
            &lt;!-- Per-task ACL settings. An empty string removes ACL checks. --&gt;
            &lt;acl&gt;
                &lt;!-- Everyone, including guests, can access dosomething --&gt;
                &lt;task name=&quot;dosomething&quot;&gt;&lt;/task&gt;
                &lt;!-- Only people with the core.manage privilege can access the somethingelse task --&gt;
                &lt;task name=&quot;somethingelse&quot;&gt;core.manage&lt;/task&gt;
            &lt;/acl&gt;
        &lt;/view&gt;
    &lt;/frontend&gt;
&lt;/fof&gt;</code></pre>
<p>The <code>fof.xml</code> file has an <code>&lt;fof&gt;</code> root element. Inside it you can have zero or one tags called <code>&lt;frontend&gt;</code>, <code>&lt;backend&gt;</code> and <code>&lt;cli&gt;</code> which configure FOF for front-end, back-end and CLI access respectively. Please note that the CLI is a special case: it will mix both the back-end and CLI settings to derive the final configuration. In the other two cases (front- or back-end access) only the configuration for this specific mode of access will be used.</p>
<h3>Dispatcher settings</h3>
<p>You can configure the way the Dispatcher works using the <code>&lt;dispatcher&gt;</code> tag. Inside it you can have one or more <code>&lt;option&gt;</code> tags. The name attribute defines the name of the configuration variable to set, while the tag's content defines the value of this configuration variable.</p>
<p>The available variables are:</p>
<dl>
<dt>default_view</dt>
<dd><p>Defines the default view to show if none is defined in the input data. By default this is <code>cpanel</code>. In the example above we set it to items in the back-end and item in the front-end.</p>
</dd>
</dl>
<h3>View settings</h3>
<p>There are several options that are applied per view. In the context of the <code>fof.xml</code> file, a “view” actually refers to an MVC triad, not just the View part of the triad. In so many words, the options affect the Controller, Model and View used to render this particular component view. You define the view the options apply to using the <code>name</code> attribute of the view tag.</p>
<p>The settings of each view are isolated from the settings of every other view, with one notable exception: the star view, i.e. <code>name=&quot;*&quot;</code>. This is a placeholder view that defines the default settings. These settings are applied to all views. If you also have a view tag for a view, the default settings (from the star view) and the settings for the particular view are merged together. This applies to all settings described below.</p>
<h4>Task map settings</h4>
<p>The task map settings allow you to map specific tasks to specific Controller methods. Other frameworks would call this the “routing” feature. It works the same way as adding running <code>registerTask</code> in your specialized Controller class.</p>
<p>The task map is enclosed inside a single <code>&lt;taskmap&gt;</code> tag. You can have exactly zero or one <code>&lt;taskmap&gt;</code> tags inside each view tag.</p>
<p>Inside the <code>&lt;taskmap&gt;</code> tag you can have one or more <code>&lt;task&gt;</code> tags. The <code>name</code> attribute defines the name of the task to map, whereas the content of the tag defines the controller’s method which will be called for this task.</p>
<h4>ACL settings</h4>
<p>The ACL settings can be used to override or fine-tune the access control for each task of the particular view. Even though FOF comes with default ACL mappings for its basic tasks, these are not always sufficient or appropriate for all situations. Normally this is achieved by overriding the <code>onBefore</code> methods in the Controller, e.g. <code>onBeforeSave</code> to set up the ACL checks for the save task. You can use the ACL mappings in the <code>fof.xml</code> instead of such checks. You can even use the ACL mapping in <code>fof.xml</code> for custom tasks for which no <code>onBefore</code> method exists.</p>
<p>The ACL settings are enclosed inside a single <code>&lt;acl&gt;</code> tag. You can have exactly zero or one <code>&lt;acl&gt;</code> tags inside each view tag.</p>
<p>Inside the <code>&lt;acl&gt;</code> tag you can have one or more <code>&lt;task&gt;</code> tags. The name attribute defines the name of the task to apply the access control, whereas the content of the tag defines the Joomla! ACL privilege required to access this task. You can use any core ACL privilege or any custom ACL privilege defined in your component's <code>access.xml</code> file. If you leave the content blank then no ACL check is performed (the task is always accessible by all users). If you use the special value false then the ACL privilege is always going to fail, i.e. the task will not be accessible by any user.</p>
<h4>Option settings</h4>
<p>The <code>&lt;option&gt;</code> tag can be used to set up a setting of this View. It is equivalent to passing a value in the <code>$config</code> array. The <code>name</code> attribute defines the name of the configuration setting you want to modify. The content of the tag is the value of this setting.</p>
<h2>The configuration settings</h2>
<p>The following settings can be used either in the <code>$config</code> array passed to a Dispatcher, Controller, Model or View class or in the <code>fof.xml</code> file’s <code>&lt;option&gt;</code> tags inside the <code>&lt;view&gt;</code> tags.</p>
<dl>
<dt>autoRouting</dt>
<dd><p>A bit mask which defines the automatic URL routing of redirections. A value of 1 means that front-end redirections will be put through Joomla!’s JRoute::_(). A value of 2 means that back-end redirections will be put through Joomla!’s JRoute::_(). You can combine multiple values by adding them together.</p>
</dd>
<dt>base_path</dt>
<dd><p>The base path of the component.</p>
<p>In $config: Specify the absolute path.</p>
<p>In fof.xml: Specify a path relative to the site’s root.</p>
</dd>
<dt>cacheableTasks</dt>
<dd><p>A comma separated list of tasks which support Joomla!’s caching.</p>
</dd>
<dt>cid</dt>
<dd><p>Define a comma separated list of item IDs to limit the view on. Normally this is empty. Only use when you want to limit a view to very specific items. Only valid in the <code>fof.xml</code> file.</p>
</dd>
<dt>csrf_protection</dt>
<dd><p>Should we be doing a token check for the tasks of this view? The possible values are:</p>
<ul>
<li><p>0 - no token checks are performed</p></li>
<li><p>1 - token checks are always performed</p></li>
<li><p>2 - token checks are always performed in the back-end and in in the front-end, but only when the request format is 'html' (default setting)</p></li>
<li><p>3 - token checks are performer only in the back-end</p></li>
</ul>
</dd>
<dt>default_task</dt>
<dd><p>The task to execute if none is defined. The default value is <code>display</code>.</p>
</dd>
<dt>event_after_delete</dt>
<dd><p>The content plugin event to trigger after deleting the data. Default: onContentAfterDelete</p>
</dd>
<dt>event_after_save</dt>
<dd><p>The content plugin event to trigger after saving the data. Default: onContentAfterSave</p>
</dd>
<dt>event_before_delete</dt>
<dd><p>The content plugin event to trigger before deleting the data. Default: onContentBeforeDelete</p>
</dd>
<dt>event_before_save</dt>
<dd><p>The content plugin event to trigger before saving the data. Default: onContentBeforeSave</p>
</dd>
<dt>event_change_state</dt>
<dd><p>The content plugin event to trigger after changing the published state of the data. Default: onContentChangeState</p>
</dd>
<dt>event_clean_cache</dt>
<dd><p>The content plugin event to trigger when cleaning cache. There is no default value.</p>
</dd>
<dt>helper_path</dt>
<dd><p>The path where the View will be looking for helper classes. By default it's the <code>helpers</code> directory inside your component's directory.</p>
<p>In $config: Specify an absolute path.</p>
<p>In fof.xml: Specify a path relative to the component's directory.</p>
</dd>
<dt>id</dt>
<dd><p>Define an item ID to limit the view on. Normally this is empty. Only use when you want to limit a view to one single item. Only valid in the <code>fof.xml</code> file.</p>
</dd>
<dt>ignore_request</dt>
<dd><p>Set to 1 to prevent the Model's populateState() method from running. By default the method is empty and does nothing, as the Model is supposed to be decoupled from the request information, having the Controller push state variables to it.</p>
</dd>
<dt>layout</dt>
<dd><p>The default layout to use for this view. This is normally determined automatically based on the task currently being executed.</p>
</dd>
<dt>model_path</dt>
<dd><p>The path where the Controller will be looking for Model class files. By default it's the <code>models</code> directory of the component's directory.</p>
<p>In $config: Specify an absolute path.</p>
<p>In fof.xml: Specify a path relative to the component's directory.</p>
</dd>
<dt>model_prefix</dt>
<dd><p>The naming prefix for the Model to be loaded by the Controller. The default option is <code>Model</code> where Componentname is the name of the component without the com_ prefix.</p>
</dd>
<dt>modelName</dt>
<dd><p>The name of the Model class to load. Automatically defined based on the component and view names.</p>
</dd>
<dt>searchpath</dt>
<dd><p>The path where Controller classes will be searched for. By default it's the <code>controllers</code> directory inside your component's directory.</p>
<p>In $config: Specify the absolute path.</p>
<p>In fof.xml: Specify a path relative to the component's root directory.</p>
</dd>
<dt>table_path</dt>
<dd><p>The path where the Model will be looking for table classes. By default it's the <code>tables</code> directory inside your component's directory.</p>
<p>In $config: Specify an absolute path.</p>
<p>In fof.xml: Specify a path relative to the component's directory.</p>
</dd>
<dt>table</dt>
<dd><p>Set the name of the table class the Model will use. Please note that the the component name is added to this name automatically. For example, given a component com_example and a table setting of <code>foobar</code> the actual table class which will be used will be <code>ExampleTableFoobar</code>.</p>
</dd>
<dt>tbl</dt>
<dd><p>The name of the database table to use in the table class of this view. It is in the format of #__tablename, e.g. #__example_items</p>
</dd>
<dt>tbl_key</dt>
<dd><p>The name of the key field of the database table to use in the table class of this view. It is in the format of component_view_id, e.g. example_item_id.</p>
</dd>
<dt>template_path</dt>
<dd><p>The path where the View will be looking for view template (.php) or form (.xml) files. By default it's the <code>tmpl</code> directory inside the current view's directory.</p>
<p>In $config: Specify an absolute path.</p>
<p>In fof.xml: Specify a path relative to the component's directory.</p>
</dd>
<dt>view_path</dt>
<dd><p>The path where the Controller will be looking for View class files. By default it's the <code>views</code> directory inside your component's directory.</p>
<p>In $config: Specify an absolute path.</p>
<p>In fof.xml: Specify a path relative to the component's directory.</p>
</dd>
<dt>viewName</dt>
<dd><p>The name of the View class to load. Automatically defined based on the component and view names.</p>
</dd>
</dl>
<h1>GNU Free Documentation License</h1>
<p>Copyright (C) 2000, 2001, 2002 Free Software Foundation, Inc. 51 Franklin St , Fifth Floor, Boston, MA 02110-1301 USA . Everyone is permitted to copy and distribute verbatim copies of this license document, but changing it is not allowed.</p>
<p><strong>0. PREAMBLE</strong></p>
<p>The purpose of this License is to make a manual, textbook, or other functional and useful document &quot;free&quot; in the sense of freedom: to assure everyone the effective freedom to copy and redistribute it, with or without modifying it, either commercially or noncommercially. Secondarily, this License preserves for the author and publisher a way to get credit for their work, while not being considered responsible for modifications made by others.</p>
<p>This License is a kind of &quot;copyleft&quot;, which means that derivative works of the document must themselves be free in the same sense. It complements the GNU General Public License, which is a copyleft license designed for free software.</p>
<p>We have designed this License in order to use it for manuals for free software, because free software needs free documentation: a free program should come with manuals providing the same freedoms that the software does. But this License is not limited to software manuals; it can be used for any textual work, regardless of subject matter or whether it is published as a printed book. We recommend this License principally for works whose purpose is instruction or reference.</p>
<p><strong>1. APPLICABILITY AND DEFINITIONS</strong></p>
<p>This License applies to any manual or other work, in any medium, that contains a notice placed by the copyright holder saying it can be distributed under the terms of this License. Such a notice grants a world-wide, royalty-free license, unlimited in duration, to use that work under the conditions stated herein. The &quot;Document&quot;, below, refers to any such manual or work. Any member of the public is a licensee, and is addressed as &quot;you&quot;. You accept the license if you copy, modify or distribute the work in a way requiring permission under copyright law.</p>
<p>A &quot;Modified Version&quot; of the Document means any work containing the Document or a portion of it, either copied verbatim, or with modifications and/or translated into another language.</p>
<p>A &quot;Secondary Section&quot; is a named appendix or a front-matter section of the Document that deals exclusively with the relationship of the publishers or authors of the Document to the Document's overall subject (or to related matters) and contains nothing that could fall directly within that overall subject. (Thus, if the Document is in part a textbook of mathematics, a Secondary Section may not explain any mathematics.) The relationship could be a matter of historical connection with the subject or with related matters, or of legal, commercial, philosophical, ethical or political position regarding them.</p>
<p>The &quot;Invariant Sections&quot; are certain Secondary Sections whose titles are designated, as being those of Invariant Sections, in the notice that says that the Document is released under this License. If a section does not fit the above definition of Secondary then it is not allowed to be designated as Invariant. The Document may contain zero Invariant Sections. If the Document does not identify any Invariant Sections then there are none.</p>
<p>The &quot;Cover Texts&quot; are certain short passages of text that are listed, as Front-Cover Texts or Back-Cover Texts, in the notice that says that the Document is released under this License. A Front-Cover Text may be at most 5 words, and a Back-Cover Text may be at most 25 words.</p>
<p>A &quot;Transparent&quot; copy of the Document means a machine-readable copy, represented in a format whose specification is available to the general public, that is suitable for revising the document straightforwardly with generic text editors or (for images composed of pixels) generic paint programs or (for drawings) some widely available drawing editor, and that is suitable for input to text formatters or for automatic translation to a variety of formats suitable for input to text formatters. A copy made in an otherwise Transparent file format whose markup, or absence of markup, has been arranged to thwart or discourage subsequent modification by readers is not Transparent. An image format is not Transparent if used for any substantial amount of text. A copy that is not &quot;Transparent&quot; is called &quot;Opaque&quot;.</p>
<p>Examples of suitable formats for Transparent copies include plain ASCII without markup, Texinfo input format, LaTeX input format, SGML or XML using a publicly available DTD, and standard-conforming simple HTML, PostScript or PDF designed for human modification. Examples of transparent image formats include PNG, XCF and JPG. Opaque formats include proprietary formats that can be read and edited only by proprietary word processors, SGML or XML for which the DTD and/or processing tools are not generally available, and the machine-generated HTML, PostScript or PDF produced by some word processors for output purposes only.</p>
<p>The &quot;Title Page&quot; means, for a printed book, the title page itself, plus such following pages as are needed to hold, legibly, the material this License requires to appear in the title page. For works in formats which do not have any title page as such, &quot;Title Page&quot; means the text near the most prominent appearance of the work's title, preceding the beginning of the body of the text.</p>
<p>A section &quot;Entitled XYZ&quot; means a named subunit of the Document whose title either is precisely XYZ or contains XYZ in parentheses following text that translates XYZ in another language. (Here XYZ stands for a specific section name mentioned below, such as &quot;Acknowledgements&quot;, &quot;Dedications&quot;, &quot;Endorsements&quot;, or &quot;History&quot;.) To &quot;Preserve the Title&quot; of such a section when you modify the Document means that it remains a section &quot;Entitled XYZ&quot; according to this definition.</p>
<p>The Document may include Warranty Disclaimers next to the notice which states that this License applies to the Document. These Warranty Disclaimers are considered to be included by reference in this License, but only as regards disclaiming warranties: any other implication that these Warranty Disclaimers may have is void and has no effect on the meaning of this License.</p>
<p><strong>2. VERBATIM COPYING</strong></p>
<p>You may copy and distribute the Document in any medium, either commercially or noncommercially, provided that this License, the copyright notices, and the license notice saying this License applies to the Document are reproduced in all copies, and that you add no other conditions whatsoever to those of this License. You may not use technical measures to obstruct or control the reading or further copying of the copies you make or distribute. However, you may accept compensation in exchange for copies. If you distribute a large enough number of copies you must also follow the conditions in section 3.</p>
<p>You may also lend copies, under the same conditions stated above, and you may publicly display copies.</p>
<p><strong>3. COPYING IN QUANTITY</strong></p>
<p>If you publish printed copies (or copies in media that commonly have printed covers) of the Document, numbering more than 100, and the Document's license notice requires Cover Texts, you must enclose the copies in covers that carry, clearly and legibly, all these Cover Texts: Front-Cover Texts on the front cover, and Back-Cover Texts on the back cover. Both covers must also clearly and legibly identify you as the publisher of these copies. The front cover must present the full title with all words of the title equally prominent and visible. You may add other material on the covers in addition. Copying with changes limited to the covers, as long as they preserve the title of the Document and satisfy these conditions, can be treated as verbatim copying in other respects.</p>
<p>If the required texts for either cover are too voluminous to fit legibly, you should put the first ones listed (as many as fit reasonably) on the actual cover, and continue the rest onto adjacent pages.</p>
<p>If you publish or distribute Opaque copies of the Document numbering more than 100, you must either include a machine-readable Transparent copy along with each Opaque copy, or state in or with each Opaque copy a computer-network location from which the general network-using public has access to download using public-standard network protocols a complete Transparent copy of the Document, free of added material. If you use the latter option, you must take reasonably prudent steps, when you begin distribution of Opaque copies in quantity, to ensure that this Transparent copy will remain thus accessible at the stated location until at least one year after the last time you distribute an Opaque copy (directly or through your agents or retailers) of that edition to the public.</p>
<p>It is requested, but not required, that you contact the authors of the Document well before redistributing any large number of copies, to give them a chance to provide you with an updated version of the Document.</p>
<p><strong>4. MODIFICATIONS</strong></p>
<p>You may copy and distribute a Modified Version of the Document under the conditions of sections 2 and 3 above, provided that you release the Modified Version under precisely this License, with the Modified Version filling the role of the Document, thus licensing distribution and modification of the Modified Version to whoever possesses a copy of it. In addition, you must do these things in the Modified Version:</p>
<ol style="list-style-type: upper-alpha">
<li><p>Use in the Title Page (and on the covers, if any) a title distinct from that of the Document, and from those of previous versions (which should, if there were any, be listed in the History section of the Document). You may use the same title as a previous version if the original publisher of that version gives permission.</p></li>
<li><p>List on the Title Page, as authors, one or more persons or entities responsible for authorship of the modifications in the Modified Version, together with at least five of the principal authors of the Document (all of its principal authors, if it has fewer than five), unless they release you from this requirement.</p></li>
<li><p>State on the Title page the name of the publisher of the Modified Version, as the publisher.</p></li>
<li><p>Preserve all the copyright notices of the Document.</p></li>
<li><p>Add an appropriate copyright notice for your modifications adjacent to the other copyright notices.</p></li>
<li><p>Include, immediately after the copyright notices, a license notice giving the public permission to use the Modified Version under the terms of this License, in the form shown in the Addendum below.</p></li>
<li><p>Preserve in that license notice the full lists of Invariant Sections and required Cover Texts given in the Document's license notice.</p></li>
<li><p>Include an unaltered copy of this License.</p></li>
<li><p>Preserve the section Entitled &quot;History&quot;, Preserve its Title, and add to it an item stating at least the title, year, new authors, and publisher of the Modified Version as given on the Title Page. If there is no section Entitled &quot;History&quot; in the Document, create one stating the title, year, authors, and publisher of the Document as given on its Title Page, then add an item describing the Modified Version as stated in the previous sentence.</p></li>
<li><p>Preserve the network location, if any, given in the Document for public access to a Transparent copy of the Document, and likewise the network locations given in the Document for previous versions it was based on. These may be placed in the &quot;History&quot; section. You may omit a network location for a work that was published at least four years before the Document itself, or if the original publisher of the version it refers to gives permission.</p></li>
<li><p>For any section Entitled &quot;Acknowledgements&quot; or &quot;Dedications&quot;, Preserve the Title of the section, and preserve in the section all the substance and tone of each of the contributor acknowledgements and/or dedications given therein.</p></li>
<li><p>Preserve all the Invariant Sections of the Document, unaltered in their text and in their titles. Section numbers or the equivalent are not considered part of the section titles.</p></li>
<li><p>Delete any section Entitled &quot;Endorsements&quot;. Such a section may not be included in the Modified Version.</p></li>
<li><p>Do not retitle any existing section to be Entitled &quot;Endorsements&quot; or to conflict in title with any Invariant Section.</p></li>
<li><p>Preserve any Warranty Disclaimers.</p></li>
</ol>
<p>If the Modified Version includes new front-matter sections or appendices that qualify as Secondary Sections and contain no material copied from the Document, you may at your option designate some or all of these sections as invariant. To do this, add their titles to the list of Invariant Sections in the Modified Version's license notice. These titles must be distinct from any other section titles.</p>
<p>You may add a section Entitled &quot;Endorsements&quot;, provided it contains nothing but endorsements of your Modified Version by various parties--for example, statements of peer review or that the text has been approved by an organization as the authoritative definition of a standard.</p>
<p>You may add a passage of up to five words as a Front-Cover Text, and a passage of up to 25 words as a Back-Cover Text, to the end of the list of Cover Texts in the Modified Version. Only one passage of Front-Cover Text and one of Back-Cover Text may be added by (or through arrangements made by) any one entity. If the Document already includes a cover text for the same cover, previously added by you or by arrangement made by the same entity you are acting on behalf of, you may not add another; but you may replace the old one, on explicit permission from the previous publisher that added the old one.</p>
<p>The author(s) and publisher(s) of the Document do not by this License give permission to use their names for publicity for or to assert or imply endorsement of any Modified Version.</p>
<p><strong>5. COMBINING DOCUMENTS</strong></p>
<p>You may combine the Document with other documents released under this License, under the terms defined in section 4 above for modified versions, provided that you include in the combination all of the Invariant Sections of all of the original documents, unmodified, and list them all as Invariant Sections of your combined work in its license notice, and that you preserve all their Warranty Disclaimers.</p>
<p>The combined work need only contain one copy of this License, and multiple identical Invariant Sections may be replaced with a single copy. If there are multiple Invariant Sections with the same name but different contents, make the title of each such section unique by adding at the end of it, in parentheses, the name of the original author or publisher of that section if known, or else a unique number. Make the same adjustment to the section titles in the list of Invariant Sections in the license notice of the combined work.</p>
<p>In the combination, you must combine any sections Entitled &quot;History&quot; in the various original documents, forming one section Entitled &quot;History&quot;; likewise combine any sections Entitled &quot;Acknowledgements&quot;, and any sections Entitled &quot;Dedications&quot;. You must delete all sections Entitled &quot;Endorsements&quot;.</p>
<p><strong>6. COLLECTIONS OF DOCUMENTS</strong></p>
<p>You may make a collection consisting of the Document and other documents released under this License, and replace the individual copies of this License in the various documents with a single copy that is included in the collection, provided that you follow the rules of this License for verbatim copying of each of the documents in all other respects.</p>
<p>You may extract a single document from such a collection, and distribute it individually under this License, provided you insert a copy of this License into the extracted document, and follow this License in all other respects regarding verbatim copying of that document.</p>
<p><strong>7. AGGREGATION WITH INDEPENDENT WORKS</strong></p>
<p>A compilation of the Document or its derivatives with other separate and independent documents or works, in or on a volume of a storage or distribution medium, is called an &quot;aggregate&quot; if the copyright resulting from the compilation is not used to limit the legal rights of the compilation's users beyond what the individual works permit. When the Document is included in an aggregate, this License does not apply to the other works in the aggregate which are not themselves derivative works of the Document.</p>
<p>If the Cover Text requirement of section 3 is applicable to these copies of the Document, then if the Document is less than one half of the entire aggregate, the Document's Cover Texts may be placed on covers that bracket the Document within the aggregate, or the electronic equivalent of covers if the Document is in electronic form. Otherwise they must appear on printed covers that bracket the whole aggregate.</p>
<p><strong>8. TRANSLATION</strong></p>
<p>Translation is considered a kind of modification, so you may distribute translations of the Document under the terms of section 4. Replacing Invariant Sections with translations requires special permission from their copyright holders, but you may include translations of some or all Invariant Sections in addition to the original versions of these Invariant Sections. You may include a translation of this License, and all the license notices in the Document, and any Warranty Disclaimers, provided that you also include the original English version of this License and the original versions of those notices and disclaimers. In case of a disagreement between the translation and the original version of this License or a notice or disclaimer, the original version will prevail.</p>
<p>If a section in the Document is Entitled &quot;Acknowledgements&quot;, &quot;Dedications&quot;, or &quot;History&quot;, the requirement (section 4) to Preserve its Title (section 1) will typically require changing the actual title.</p>
<p><strong>9. TERMINATION</strong></p>
<p>You may not copy, modify, sublicense, or distribute the Document except as expressly provided for under this License. Any other attempt to copy, modify, sublicense or distribute the Document is void, and will automatically terminate your rights under this License. However, parties who have received copies, or rights, from you under this License will not have their licenses terminated so long as such parties remain in full compliance.</p>
<p><strong>10. FUTURE REVISIONS OF THIS LICENSE</strong></p>
<p>The Free Software Foundation may publish new, revised versions of the GNU Free Documentation License from time to time. Such new versions will be similar in spirit to the present version, but may differ in detail to address new problems or concerns. See <a href="http://www.gnu.org/copyleft/">http://www.gnu.org/copyleft/</a> .</p>
<p>Each version of the License is given a distinguishing version number. If the Document specifies that a particular numbered version of this License &quot;or any later version&quot; applies to it, you have the option of following the terms and conditions either of that specified version or of any later version that has been published (not as a draft) by the Free Software Foundation. If the Document does not specify a version number of this License, you may choose any version ever published (not as a draft) by the Free Software Foundation.</p>
<p><strong>ADDENDUM: How to use this License for your documents</strong></p>
<p>To use this License in a document you have written, include a copy of the License in the document and put the following copyright and license notices just after the title page:</p>
<blockquote>
<p>Copyright (C) YEAR YOUR NAME.</p>
<p>Permission is granted to copy, distribute and/or modify this document under the terms of the GNU Free Documentation License, Version 1.2 or any later version published by the Free Software Foundation; with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts. A copy of the license is included in the section entitled &quot;GNU Free Documentation License&quot;.</p>
</blockquote>
<p>If you have Invariant Sections, Front-Cover Texts and Back-Cover Texts, replace the &quot;with...Texts.&quot; line with this:</p>
<blockquote>
<p>with the Invariant Sections being LIST THEIR TITLES, with the Front-Cover Texts being LIST, and with the Back-Cover Texts being LIST.</p>
</blockquote>
<p>If you have Invariant Sections without Cover Texts, or some other combination of the three, merge those two alternatives to suit the situation.</p>
<p>If your document contains nontrivial examples of program code, we recommend releasing these examples in parallel under your choice of free software license, such as the GNU General Public License, to permit their use in free software.</p>
